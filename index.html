<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>GoTail Live Monitor</title>
    <!-- Incluye los estilos -->
    {{template "styles" .}}
</head>
<body>

    <!-- NUCLEAR ALERT OVERLAY -->
    <div id="nuclear-alert">
        <div class="nuclear-box" id="nuclear-box">
            <span class="nuclear-icon">‚ö†Ô∏è</span>
            <div class="nuclear-title" id="nuclear-title">SYSTEM ALERT</div>
            <div class="nuclear-msg" id="nuclear-msg">Critical error detected in logs</div>
            <div class="nuclear-controls">
                <button class="nuclear-btn" onclick="dismissNuclear()">ENTENDIDO</button>
                <button class="nuclear-btn nuclear-btn-mute" onclick="dismissAndMuteNuclear()">SILENCIAR TODO</button>
            </div>
        </div>
    </div>

    <div id="header">
        <span class="brand">GoTail Live</span>
        <div class="controls">
            <input type="text" id="search" placeholder="Buscar texto global...">
            <button id="pause-btn" onclick="toggleGlobalPause()">PAUSA GLOBAL</button>
            <button id="alerts-btn" onclick="toggleAlertsMute()">üîî ALERTAS: ON</button>
            <button onclick="clearAll()">Limpiar</button>
        </div>
        <span id="status">Conectando...</span>
    </div>

    <div id="multi-copy-btn" onclick="copySelectedLines()">
        <span>Copiar</span>
        <span id="selected-count" style="background:rgba(0,0,0,0.2); padding: 2px 6px; border-radius: 10px; font-size:12px">0</span>
    </div>

    <div id="dashboard-grid"></div>

    <!-- IMPORTANTE: EL ORDEN DE LOS SCRIPTS IMPORTA -->
    <!-- 1. Variables Globales e Iconos -->
    {{template "scripts_globals" .}}
    
    <!-- 2. L√≥gica de Alertas -->
    {{template "scripts_alerts" .}}

    <!-- 3. Interacciones de Usuario (Acciones) -->
    {{template "scripts_actions" .}}

    <!-- 4. L√≥gica Core (Websockets y Grid) -->
    {{template "scripts_core" .}}

</body>
</html>
